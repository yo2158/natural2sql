# データセット生成スクリプト

このディレクトリには、txt2sqlで使用するSQLiteデータベース（restaurant.db）を生成するスクリプトが含まれています。

## 📋 前提条件

- Python 3.10以上
- 必要なライブラリ（requirements.txt参照）

## 🚀 データ生成手順

1. **依存パッケージをインストール**:

```bash
cd dataset
pip install -r requirements.txt
```

2. **データ生成スクリプトを実行**:

```bash
python generate_data.py
```

3. **生成されたデータベースの確認**:

生成されたデータベースは `../data/restaurant.db` に保存されます（約0.3秒で完了）。

## 📊 生成されるデータ

| テーブル名 | レコード数 | 説明 |
|-----------|-----------|------|
| members | 1,000件 | 会員マスタ |
| restaurants | 200件 | 飲食店マスタ |
| reservations | 4,000件 | 予約トランザクション |
| access_logs | 25,000件 | アクセスログ |
| reviews | 400件 | レビュー |
| favorites | 3,000件 | お気に入り |

**合計**: 33,600レコード、約4.6MB

## 📝 データ特性

- **パレート分布**: 上位20%の会員が80%の予約を実施
- **人気店舗**: 上位10%の店舗が60%の予約を獲得
- **NULL値**: 非ログインユーザー（30%）、キャンセル（10%）を含む
- **参照整合性**: 全外部キーが参照先に存在

## 🔧 設定ファイル

データ生成のパラメータは `config.py` で設定されています：

- レコード数
- 乱数シード（再現性あり、同じシードで同じデータ生成）
- データ生成期間（過去2年間）
- パレート分布パラメータ

## 📖 詳細情報

データセットの詳細仕様は `../data/README.md` を参照してください：

- 各テーブルのカラム定義
- データ型・制約
- サンプルクエリ

---

**最終更新**: 2025-10-01
